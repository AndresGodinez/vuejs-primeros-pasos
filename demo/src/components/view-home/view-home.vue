<template>
	<app-main title="Busca tu pelÃ­cula favorita">
		<search-box @search="searchMovie" />
		<panel v-if="movies" :title="'Se han encontrado ' + movies.total_results + ' resultados'">
			<movie 
				v-for="movie in movies.results" 
				:key="movie.id" 
				:title="movie.title" 
				:posterPath="movie.poster_path" 
				:voteAverage="movie.vote_average"
				:voteCount="movie.vote_count"
			 />
			<pagination :page="movies.page" :totalPages="movies.total_pages" @page="searchMovieByPage" />
		</panel>
		<panel-error v-else-if="error" :message="error.message" />
	</app-main>
</template>
<script src="./view-home.js"></script>
